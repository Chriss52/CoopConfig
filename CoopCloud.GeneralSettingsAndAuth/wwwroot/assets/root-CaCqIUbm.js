var nt=e=>{throw TypeError(e)};var tt=(e,t,s)=>t.has(e)||nt("Cannot "+s);var i=(e,t,s)=>(tt(e,t,"read from private field"),s?s.call(e):t.get(e)),c=(e,t,s)=>t.has(e)?nt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),o=(e,t,s,r)=>(tt(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),Q=(e,t,s)=>(tt(e,t,"access private method"),s);var Y=(e,t,s,r)=>({set _(a){o(e,t,a,s)},get _(){return i(e,t,r)}});import{b as et,t as l,w as Ft,v as qt,M as At,L as Dt,S as Mt,x as xt,O as jt,i as Rt}from"./index-BjhtngU2.js";import{R as Et,r as Tt,n as v,a as Ut,s as Pt,b as st,t as It,c as kt,C as ot,d as p,e as wt,f as Kt,g as Ht,h as Bt,i as Lt,S as Ot,M as Gt,m as ut,j as Qt,k as ht,l as Nt,o as ct,p as _t,q as lt,u as dt,Q as zt,v as $t,T as Jt}from"./index-BzCiW6fY.js";import{C as Vt}from"./use-confirm-BdUb-5z8.js";var j,T,g,R,f,J,E,b,S,gt,Wt=(gt=class extends Et{constructor(t){super();c(this,b);c(this,j);c(this,T);c(this,g);c(this,R);c(this,f);c(this,J);c(this,E);o(this,E,!1),o(this,J,t.defaultOptions),this.setOptions(t.options),this.observers=[],o(this,R,t.client),o(this,g,i(this,R).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,o(this,j,yt(this.options)),this.state=t.state??i(this,j),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=i(this,f))==null?void 0:t.promise}setOptions(t){if(this.options={...i(this,J),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=yt(this.options);s.data!==void 0&&(this.setState(ft(s.data,s.dataUpdatedAt)),o(this,j,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&i(this,g).remove(this)}setData(t,s){const r=Tt(this.state.data,t,this.options);return Q(this,b,S).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){Q(this,b,S).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,a;const s=(r=i(this,f))==null?void 0:r.promise;return(a=i(this,f))==null||a.cancel(t),s?s.then(v).catch(v):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(i(this,j))}isActive(){return this.observers.some(t=>Ut(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>st(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!It(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=i(this,f))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=i(this,f))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),i(this,g).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(i(this,f)&&(i(this,E)?i(this,f).cancel({revert:!0}):i(this,f).cancelRetry()),this.scheduleGc()),i(this,g).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Q(this,b,S).call(this,{type:"invalidate"})}async fetch(t,s){var O,H,B,L,G,N,_,q,x,W,z,y;if(this.state.fetchStatus!=="idle"&&((O=i(this,f))==null?void 0:O.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(i(this,f))return i(this,f).continueRetry(),i(this,f).promise}if(t&&this.setOptions(t),!this.options.queryFn){const n=this.observers.find(P=>P.options.queryFn);n&&this.setOptions(n.options)}const r=new AbortController,a=n=>{Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(o(this,E,!0),r.signal)})},u=()=>{const n=wt(this.options,s),$=(()=>{const X={client:i(this,R),queryKey:this.queryKey,meta:this.meta};return a(X),X})();return o(this,E,!1),this.options.persister?this.options.persister(n,$,this):n($)},d=(()=>{const n={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:i(this,R),state:this.state,fetchFn:u};return a(n),n})();(H=this.options.behavior)==null||H.onFetch(d,this),o(this,T,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((B=d.fetchOptions)==null?void 0:B.meta))&&Q(this,b,S).call(this,{type:"fetch",meta:(L=d.fetchOptions)==null?void 0:L.meta}),o(this,f,kt({initialPromise:s==null?void 0:s.initialPromise,fn:d.fetchFn,onCancel:n=>{n instanceof ot&&n.revert&&this.setState({...i(this,T),fetchStatus:"idle"}),r.abort()},onFail:(n,P)=>{Q(this,b,S).call(this,{type:"failed",failureCount:n,error:P})},onPause:()=>{Q(this,b,S).call(this,{type:"pause"})},onContinue:()=>{Q(this,b,S).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const n=await i(this,f).start();if(n===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(n),(N=(G=i(this,g).config).onSuccess)==null||N.call(G,n,this),(q=(_=i(this,g).config).onSettled)==null||q.call(_,n,this.state.error,this),n}catch(n){if(n instanceof ot){if(n.silent)return i(this,f).promise;if(n.revert){if(this.state.data===void 0)throw n;return this.state.data}}throw Q(this,b,S).call(this,{type:"error",error:n}),(W=(x=i(this,g).config).onError)==null||W.call(x,n,this),(y=(z=i(this,g).config).onSettled)==null||y.call(z,this.state.data,n,this),n}finally{this.scheduleGc()}}},j=new WeakMap,T=new WeakMap,g=new WeakMap,R=new WeakMap,f=new WeakMap,J=new WeakMap,E=new WeakMap,b=new WeakSet,S=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Xt(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,...ft(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return o(this,T,t.manual?a:void 0),a;case"error":const u=t.error;return{...r,error:u,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),p.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),i(this,g).notify({query:this,type:"updated",action:t})})},gt);function Xt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kt(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ft(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function yt(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function pt(e){return{onFetch:(t,s)=>{var B,L,G,N,_;const r=t.options,a=(G=(L=(B=t.fetchOptions)==null?void 0:B.meta)==null?void 0:L.fetchMore)==null?void 0:G.direction,u=((N=t.state.data)==null?void 0:N.pages)||[],m=((_=t.state.data)==null?void 0:_.pageParams)||[];let d={pages:[],pageParams:[]},O=0;const H=async()=>{let q=!1;const x=y=>{Lt(y,()=>t.signal,()=>q=!0)},W=wt(t.options,t.fetchOptions),z=async(y,n,P)=>{if(q)return Promise.reject();if(n==null&&y.pages.length)return Promise.resolve(y);const X=(()=>{const at={client:t.client,queryKey:t.queryKey,pageParam:n,direction:P?"backward":"forward",meta:t.options.meta};return x(at),at})(),St=await W(X),{maxPages:rt}=t.options,it=P?Ht:Bt;return{pages:it(y.pages,St,rt),pageParams:it(y.pageParams,n,rt)}};if(a&&u.length){const y=a==="backward",n=y?Yt:mt,P={pages:u,pageParams:m},$=n(r,P);d=await z(P,$,y)}else{const y=e??u.length;do{const n=O===0?m[0]??r.initialPageParam:mt(r,d);if(O>0&&n==null)break;d=await z(d,n),O++}while(O<y)}return d};t.options.persister?t.fetchFn=()=>{var q,x;return(x=(q=t.options).persister)==null?void 0:x.call(q,H,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=H}}}function mt(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Yt(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var F,C,V,vt,Zt=(vt=class extends Ot{constructor(t={}){super();c(this,F);c(this,C);c(this,V);this.config=t,o(this,F,new Set),o(this,C,new Map),o(this,V,0)}build(t,s,r){const a=new Gt({client:t,mutationCache:this,mutationId:++Y(this,V)._,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){i(this,F).add(t);const s=Z(t);if(typeof s=="string"){const r=i(this,C).get(s);r?r.push(t):i(this,C).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(i(this,F).delete(t)){const s=Z(t);if(typeof s=="string"){const r=i(this,C).get(s);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&i(this,C).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Z(t);if(typeof s=="string"){const r=i(this,C).get(s),a=r==null?void 0:r.find(u=>u.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const s=Z(t);if(typeof s=="string"){const a=(r=i(this,C).get(s))==null?void 0:r.find(u=>u!==t&&u.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){p.batch(()=>{i(this,F).forEach(t=>{this.notify({type:"removed",mutation:t})}),i(this,F).clear(),i(this,C).clear()})}getAll(){return Array.from(i(this,F))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>ut(s,r))}findAll(t={}){return this.getAll().filter(s=>ut(t,s))}notify(t){p.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return p.batch(()=>Promise.all(t.map(s=>s.continue().catch(v))))}},F=new WeakMap,C=new WeakMap,V=new WeakMap,vt);function Z(e){var t;return(t=e.options.scope)==null?void 0:t.id}var w,bt,te=(bt=class extends Ot{constructor(t={}){super();c(this,w);this.config=t,o(this,w,new Map)}build(t,s,r){const a=s.queryKey,u=s.queryHash??Qt(a,s);let m=this.get(u);return m||(m=new Wt({client:t,queryKey:a,queryHash:u,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(m)),m}add(t){i(this,w).has(t.queryHash)||(i(this,w).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=i(this,w).get(t.queryHash);s&&(t.destroy(),s===t&&i(this,w).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){p.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return i(this,w).get(t)}getAll(){return[...i(this,w).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>ht(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>ht(t,r)):s}notify(t){p.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){p.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){p.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},w=new WeakMap,bt),h,A,D,U,I,M,k,K,Ct,ee=(Ct=class{constructor(e={}){c(this,h);c(this,A);c(this,D);c(this,U);c(this,I);c(this,M);c(this,k);c(this,K);o(this,h,e.queryCache||new te),o(this,A,e.mutationCache||new Zt),o(this,D,e.defaultOptions||{}),o(this,U,new Map),o(this,I,new Map),o(this,M,0)}mount(){Y(this,M)._++,i(this,M)===1&&(o(this,k,Nt.subscribe(async e=>{e&&(await this.resumePausedMutations(),i(this,h).onFocus())})),o(this,K,ct.subscribe(async e=>{e&&(await this.resumePausedMutations(),i(this,h).onOnline())})))}unmount(){var e,t;Y(this,M)._--,i(this,M)===0&&((e=i(this,k))==null||e.call(this),o(this,k,void 0),(t=i(this,K))==null||t.call(this),o(this,K,void 0))}isFetching(e){return i(this,h).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return i(this,A).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=i(this,h).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=i(this,h).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(st(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return i(this,h).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),a=i(this,h).get(r.queryHash),u=a==null?void 0:a.state.data,m=_t(t,u);if(m!==void 0)return i(this,h).build(this,r).setData(m,{...s,manual:!0})}setQueriesData(e,t,s){return p.batch(()=>i(this,h).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=i(this,h).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=i(this,h);p.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=i(this,h);return p.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=p.batch(()=>i(this,h).findAll(e).map(a=>a.cancel(s)));return Promise.all(r).then(v).catch(v)}invalidateQueries(e,t={}){return p.batch(()=>(i(this,h).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=p.batch(()=>i(this,h).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let u=a.fetch(void 0,s);return s.throwOnError||(u=u.catch(v)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(v)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=i(this,h).build(this,t);return s.isStaleByTime(st(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(v).catch(v)}fetchInfiniteQuery(e){return e.behavior=pt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(v).catch(v)}ensureInfiniteQueryData(e){return e.behavior=pt(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ct.isOnline()?i(this,A).resumePausedMutations():Promise.resolve()}getQueryCache(){return i(this,h)}getMutationCache(){return i(this,A)}getDefaultOptions(){return i(this,D)}setDefaultOptions(e){o(this,D,e)}setQueryDefaults(e,t){i(this,U).set(lt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...i(this,U).values()],s={};return t.forEach(r=>{dt(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){i(this,I).set(lt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...i(this,I).values()],s={};return t.forEach(r=>{dt(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...i(this,D).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Qt(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pt&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...i(this,D).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){i(this,h).clear(),i(this,A).clear()}},h=new WeakMap,A=new WeakMap,D=new WeakMap,U=new WeakMap,I=new WeakMap,M=new WeakMap,k=new WeakMap,K=new WeakMap,Ct);const se={theme:"system",setTheme:()=>null},re=et.createContext(se);function ie({children:e,defaultTheme:t="system",storageKey:s="vite-ui-theme",...r}){const[a,u]=et.useState(()=>localStorage.getItem(s)||t);et.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),a==="system"){const O=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(O);return}d.classList.add(a)},[a]);const m={theme:a,setTheme:d=>{localStorage.setItem(s,d),u(d)}};return l.jsx(re.Provider,{...r,value:m,children:e})}var ae=function(){return null};const ne=new ee({defaultOptions:{queries:{retry:2,gcTime:3600*1e3,staleTime:600*1e3}}}),oe=({children:e})=>l.jsxs(zt,{client:ne,children:[l.jsx(ae,{initialIsOpen:!1,buttonPosition:"bottom-right"}),e]});$t();const ue=({children:e})=>l.jsxs(ie,{defaultTheme:"light",storageKey:"vite-ui-theme",children:[l.jsx(oe,{children:l.jsx(Vt,{children:e})}),l.jsx(Jt,{richColors:!0,position:"top-center"})]}),fe=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",crossOrigin:"anonymous",href:"https://fonts.gstatic.com"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"}],ye=({children:e})=>l.jsxs("html",{lang:"en",children:[l.jsxs("head",{children:[l.jsx("meta",{charSet:"utf-8"}),l.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),l.jsx(At,{}),l.jsx(Dt,{})]}),l.jsxs("body",{children:[e,l.jsx(Mt,{}),l.jsx(xt,{})]})]}),pe=Ft(function(){return l.jsx(ue,{children:l.jsx(jt,{})})}),me=qt(({error:e})=>{let t="Oops!",s="An unexpected error occurred.",r;return Rt(e)&&(t=e.status===404?"404":"Error",s=e.status===404?"The requested page could not be found.":e.statusText||s),l.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[l.jsx("h1",{children:t}),l.jsx("p",{children:s}),r]})});export{me as ErrorBoundary,ye as Layout,pe as default,fe as links};

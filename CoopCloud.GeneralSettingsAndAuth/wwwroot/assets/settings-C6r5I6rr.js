import{w as u,t as e}from"./index-BjhtngU2.js";import{y as f,H as p,ao as b,B as n,z as g,G as h,ap as v,aq as l,ar as x,as as y,K as i}from"./index-BzCiW6fY.js";import"./auth-api-Cs431hdg.js";import{u as j}from"./use-confirm-BdUb-5z8.js";import{s as C,g as S}from"./vest-DWm3oUc2.js";import{R as _,S as w}from"./save-a3BA0j67.js";const B=()=>{const{confirm:s}=j(),o=f({resolver:C(S),defaultValues:{dayCountBaseId:"",roundingRuleId:"",transactionCutoffTime:"",shouldAccrueInterestOnHolidays:!1}}),{reset:t,formState:{isDirty:r}}=o,c=async a=>{if(await s({variant:"destructive",cancelButton:"Cancelar",actionButton:"Guardar cambios",title:"Confirmar cambios globales",body:"Está a punto de modificar los parámetros generales del sistema. Estos cambios afectarán globalmente a todos los cálculos, operaciones y transacciones. ¿Desea continuar?"}))try{console.log("Datos a guardar:",a),i.success("Cambios guardados exitosamente"),t(a)}catch(m){i.error("Error al guardar cambios"),console.error("Settings update error:",m)}},d=async()=>{await s({cancelButton:"Volver",variant:"destructive",title:"Deshacer cambios",actionButton:"Deshacer cambios",body:"¿Estás seguro de que quieres descartar los cambios no guardados y volver a los valores originales?"})&&t()};return e.jsxs(p,{form:o,onSubmit:c,className:"mb-4 space-y-4",children:[e.jsx(b,{title:"Parámetros generales del sistema",subtitle:"Configura los parámetros generales que afectan a toda la cooperativa",actions:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{type:"button",variant:"outline",disabled:!r,onClick:d,children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Cancelar"]}),e.jsxs(n,{type:"submit",disabled:!r,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Guardar cambios"]})]})}),e.jsx(g,{className:"shadow-none",children:e.jsx(h,{className:"pt-6",children:e.jsxs(v,{cols:2,children:[e.jsx(l,{name:"dayCountBaseId",label:"Bases del dia del año",placeholder:"Seleccionar base",options:[{value:"1",label:"30/360"},{value:"2",label:"Actual/360"},{value:"3",label:"Actual/365"}]}),e.jsx(x,{name:"transactionCutoffTime",placeholder:"Seleccionar la hora",label:"Hora de corte de transacciones",description:"Las transacciones realizadas después de esta hora se procesarán al siguiente día hábil"}),e.jsx(l,{name:"roundingRuleId",label:"Método de redondeo",placeholder:"Seleccionar método",description:"Método de redondeo aplicado a intereses y cuotas",options:[{value:"1",label:"Redondeo estándar"},{value:"2",label:"Redondeo hacia arriba"},{value:"3",label:"Redondeo hacia abajo"}]}),e.jsx(y,{name:"shouldAccrueInterestOnHolidays",label:"Devengar intereses en días feriados",description:"Si se activa, los días feriados generarán intereses normalmente"})]})})})]})},H=u(B);export{H as default};
